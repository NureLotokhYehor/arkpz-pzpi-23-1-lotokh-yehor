Міністерство освіти і науки України Харківський національний університет радіоелектроніки

Кафедра програмної інженерії

Звіт
З лабораторної роботи №5
З дисципліни «Аналіз та рефакторинг коду»
на тему: «РОЗГОРТАННЯ ПРОГРАМНОЇ СИСТЕМИ ТА ДЕМОНСТРАЦІЯ ЇЇ РОБОТИ»










Виконав
ст. гр. ПЗПІ-23-1
Лотох Єгор	Перевірив
ас. викладач каф. ПІ Дашенков Дмитро Сергійович










Харків 2025
 
1	Мета роботи:

Розгорнути реалізовану IoT-систему моніторингу стану тварин, перевірити її функціонування та продемонструвати роботу бізнес-логіки, функцій адміністрування та налаштування IoT-клієнта, а також взаємодію клієнта з серверною частиною системи VetMonitor.

2	Хід роботи:

2.1	Опис розгорнутої програмної системи
IoT-клієнт (ESP32):
•	Мова програмування: C++ в середовищі Arduino IDE.
•	Сенсори: DS18B20 для вимірювання температури, MPU6050 для визначення активності та гіроскопічних даних, пульсометр на базі генератора імпульсів.
•	Відображення: OLED-дисплей 128x64 пікселів для показу поточних даних.
•	Мережеве з’єднання: Wi-Fi модуль ESP32 для підключення до локальної мережі та передачі даних на MQTT-брокер.
•	Функціональність: Збір даних про температуру, пульс та активність тварини, обробка даних, формування JSON-повідомлень і передача на сервер через MQTT. Автоматичне відновлення з’єднання при втраті мережі.
Серверна частина:
•	Мова програмування: JavaScript.
•	Фреймворк: Node.js з використанням Express.js для побудови REST API.
•	База даних: MongoDB з бібліотекою Mongoose для збереження даних сенсорів та логів пристрою.
•	Контролери та маршрути: Реалізовані методи GET, POST, PUT, DELETE для роботи з даними тварин та журналами моніторингу.
•	Функціональність: Обробка вхідних JSON-повідомлень від IoT-клієнтів, збереження даних у базі, підготовка статистики для віддаленого моніторингу стану тварин.
Інтеграція з IoT:
•	MQTT брокер: Використовується для обміну даними між ESP32 і сервером.
•	Підключення клієнта: ESP32 з’єднується з Wi-Fi та передає JSON-повідомлення про стан тварини на MQTT-брокер, звідки сервер їх отримує та обробляє.
•	Формат даних: JSON-повідомлення містять температуру, пульс та активність тварини, а також часові мітки.

2.2	Опис розгортання

IoT-клієнт (ESP32):
1.	Підключення до Wi-Fi мережі та перевірка стабільності з’єднання.
2.	Ініціалізація сенсорів DS18B20, MPU6050 та генератора імпульсів.
3.	Налаштування інтервалу зчитування даних та автоматичного перерахунку пульсу і активності.
4.	Формування JSON-повідомлень і передача їх на MQTT-брокер.
5.	Виведення поточних значень на OLED-дисплей для локального контролю.
Серверна частина (Node.js + MongoDB):
1.	Інсталяція залежностей: npm install для Node.js та Mongoose.
2.	Налаштування середовища: .env файл із параметрами підключення до MongoDB та MQTT-брокера.
3.	Запуск сервера: npm start, перевірка доступності API через Postman.
4.	Перевірка функціональності:
•	Сервер успішно приймає повідомлення від ESP32.
•	Дані коректно зберігаються в MongoDB.
•	Сервер обробляє дані для відображення у веб-інтерфейсі або для аналітики.
Інтеграція IoT та сервера:
1.	ESP32 підключається до Wi-Fi та налаштовує з’єднання з MQTT-брокером.
2.	Дані про температуру, пульс та активність тварини передаються на сервер через MQTT.
3.	Сервер отримує повідомлення, зберігає їх у базі даних та логах для подальшого аналізу.
Використані інструменти та технології:
•	ESP32: IoT-клієнт.
•	DS18B20, MPU6050, пульсометр: сенсори для моніторингу стану тварини.
•	OLED-дисплей: локальне відображення даних.
•	Node.js, Express.js: серверна частина.
•	MongoDB та Mongoose: збереження даних.
•	MQTT: обмін даними між IoT-клієнтом та сервером.
•	Postman: тестування API.
•	Arduino IDE: розробка IoT-клієнта.
•	GitHub: керування версіями коду.

3	Висновок:

У ході виконання лабораторної роботи було успішно розгорнуто та протестовано програмну систему для контролю стану тварин у клініках. Встановлена система продемонструвала стабільну роботу у локальному середовищі, забезпечуючи коректний збір даних з усіх підключених сенсорів, таких як температурний датчик DS18B20, акселерометр та гіроскоп MPU6050 для оцінки активності тварини, а також пульсометр. IoT-клієнт, реалізований на базі мікроконтролера ESP32, стабільно зчитує значення температури, пульсу та рівня активності тварини, обробляє ці дані та формує структуровані повідомлення у форматі JSON для подальшої передачі на сервер через протокол MQTT.
Серверна частина програмної системи, реалізована на платформі Node.js з використанням Express.js та бази даних MongoDB, успішно отримує повідомлення від IoT-клієнта, зберігає їх у базі даних та забезпечує доступ до них для віддаленого моніторингу та аналітики. Під час тестування підтверджено, що серверна частина коректно обробляє вхідні дані, виконує їх збереження, а також надає можливість контролю за станом тварин у реальному часі.
Взаємодія між IoT-клієнтом і сервером стабільна, система автоматично відновлює зв’язок у разі тимчасової втрати мережі, що забезпечує безперервність моніторингу. Завдяки цій властивості лікарі та персонал клініки можуть отримувати актуальні дані про стан тварин навіть у разі перебоїв у підключенні.
Програмна система готова до масштабування та інтеграції з веб-інтерфейсом для централізованого контролю стану здоров’я тварин у клініках або на фермах. Вона дозволяє накопичувати історію фізіологічних показників, виконувати аналіз активності та пульсу, а також своєчасно реагувати на потенційні зміни у стані тварин, що робить її практично цінною для ветеринарного моніторингу та управління здоров’ям тварин. Реалізована IoT-система демонструє ефективність збору, обробки та передачі даних і може бути використана для створення масштабованих рішень у сучасних системах контролю стану тварин, забезпечуючи надійність та точність отриманих даних.
Завдяки розгорнутій системі клініки отримують інструмент для покращення якості догляду за тваринами, зниження ризику хвороб, а також для оперативного реагування на зміни у фізіологічних показниках, що підвищує ефективність ветеринарної практики та безпеку тварин.
